<!DOCTYPE html>
<html lang="en">
<head>
    <title>Editing user</title>
</head>
<body>
<h3>Edit user</h3>
<br><input type="button" value="Dashboard" onclick="window.location='dashboardStart'">
<input type="button" value="Roles" onclick="window.location='roleslistStart'">

<p><input type="button" value="Avatar" onclick="window.location='endpoint'">
<p>
<form method="post" enctype="multipart/form-data" action="uploadAvatar">
    <input type="file" name="file" size="50"/>
    <input type="submit" value="Upload avatar" name="avatarLoading"/>
</form>

<form method="post" th:object="${user}" action="changeUserData">
    <p>Id: <input type="text" name="id" th:field="*{id}" size="20" th:value=${id}></p>
    <p>Login: <input type="text" th:field="*{login}" name="login" size="20" th:value=${login}/>
        First name: <input type="text" th:field="*{firstname}" name="lastname" size="20" th:value=${firstname}/></p>
    <p>Password: <input type="text" th:field="*{password}" name="password" size="20"/>
        Last name: <input type="text" th:field="*{lastname}" name="lastname" size="20" th:value=${lastname}/></p>

    <span th:each="role,iterStat : th:field="*{roles}">
        <span th:if="${iterStat.index%10==0}"><br></span>
        <input type="checkbox" id="role" name="roles" th:value="${role.role}"
               th:attr="checked=${userRoles[iterStat.index] ? true : false}">
        <label for="role" th:text="${role.role}"></label>
    </span>

    <input type="submit" value="Change data" name="changeUserData">
</form>
</body>
</html>